   
Bash Handout
------------



+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **ls -l ~** ``#list files in home directory``                                    | **shuf -n 10 /var/log/syslog -o r.txt**``** ``#create file with shuffled lines`` |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **mkdir dir src-dir dest-dir** ``#make directories``                             | **passwd <user>** ``#update password``                                           |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **rm -ir dir/**   ``#remove dir interactively & recursively``                    | **source ~/.bashrc** ``#update the configs in the current bash process``         |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **cp -ir src-dir/ dest-dir/**  ``#copy recursively``                             | **for i in {1..10}; do echo The number is $i; done** ``#simple for loop``        |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **mv -i src-dir/ dest-dir/**  ``#move/rename``                                   | **if [ -f ~/.bashrc ]; then echo File exists; fi** ``#simple if condition``      |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **alias rm='rm -i'** ``#make shortcut``                                          | **while :;do echo Infinite loop [hit CTRL+c];done** ``#simple while loop``       |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **man man** ``#print manual, press q to exit``                                   | **mutt -a <file-to-be-attached> -s <subject> <email>** ``#wait for content``     |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **apropos copy** ``#search the term 'copy' in all man pages``                    | **cat <email content> | mutt -a <file> -s <sub> <email>** ``#non interactive``   |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **cat /etc/lsb-release /etc/bash.bashrc** ``#print file content on stdout``      | **mogrify -resize 50% -format jpg images/*.png** ``#convert all png to jpg``     |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **less /etc/bash.bashrc** ``#browse through file, 'q' to quit``                  | **echo "hi" 1>so1; ls -z 1>so2** ``#redirect STDOUT stream to files``            |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **head -n1 /etc/bash.bashrc** ``#print first line and exit``                     | **echo "hi" 2>se1; ls -z 2>se2** ``#redirect STDERR stream to files``            |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **tail -n1 /etc/bash.bashrc** ``#print last line and exit``                      | **mount | column -t**  ``#show all mounted drives``                              |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **find ~/Downloads -iname \\*.pdf -size +4M** ``#find files larger than 4MB``    | **sudo mount /dev/sd<partition> /mnt** ``#mount partition to any directory``     |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **grep 'nobody' /etc/passwd** ``#search line(s) with 'nobody'``                  | **sudo umount /mnt** ``un-mount the partition from directory``                   |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **grep -ri 'printf' /usr/include/** ``#search recursive in dir & ignore case``   | **tar -cvzf archive.tgz *.txt** ``#create compressed archive``                   |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **grep '\\<st..ct\\>' /usr/include/stdio.h** ``#match pattern in all lines``     | **tar -xvzf archive.tgz** ``#extract to pwd(present working directory)``         |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **grep '^st..ct' /usr/include/stdio.h** ``#match pattern in beginning of lines`` | **zip allfiles.zip *.txt** ``#create a zip file``                                |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **chmod -R o+w dest-dir/** ``#change permission to write for others``            | **unzip allfiles.zip** ``#unzip to pwd, may overwrite``                          |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **chmod -R a=rx dest-dir/** ``#only read and execute permission for all``        | **unrar -x file.rar** ``#unrar to pwd``                                          |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **chmod -R 775 dest-dir/** ``#change permission to rwxrwxr-x``                   | **ln -s images/ ~/Desktop** ``#create shortcut to Desktop``                      |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sudo chown -R root.root dest-dir/** ``#change ownership to root(admin)``       | **unlink ~/Desktop/images** ``#remove shortcut``                                 |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **whoami** ``#will return present user``                                         | **touch 1.txt** ``#create a file of zero size``                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **ls -l | grep 'rw'** ``#pipe/send the STDOUT of ls -l to grep``                 | **which ls**  ``#return path of *ls* command``                                   |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **for i in {1..9}; do echo $i,$RANDOM | cut -c -5 >> 1.csv;done**                | **find /tmp/ -depth -name "* *" -execdir rename 's/ /_/g' "{}" \;**              |
|                                                                                  |                                                                                  |
| ``#generated csv file, this one liner will be explained later``                  | ``#remove all white space from dirs & files recursively``                        |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sort 1.csv** ``#sort according to first column``                               | **kill -15 `pgrep firefox`** ``#kill firefox``                                   |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sort -t ',' -r 1.csv** ``#pipe output of 1st command to 'sort' command``       | **rm -i `find ~/Downloads -iname \*.pdf -size +16M`** ``#rm results of *find*``  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sort -t ',' -k2 1.csv > 2.csv** ``#sort based on 2nd col & redirect to 2.csv`` | **top** ``#will show system monitor``                                            |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **cat 2.csv | cut -d ',' -f 1,2 | paste -d ';' 1.csv - > 1_2.csv**               | **last** ``#show listing of last logged in users``                               |
|                                                                                  |                                                                                  |
| ``#cut 1,2 col of 2.csv & paste next to 1.csv cols,separate with ;``             |                                                                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **cat 1.csv | awk {'print $1 + $2'} | paste  -d ',' 1.csv - > sum.csv**          | **ping -c 5 127.0.0.1** ``#check networking connectivity``                       |
|                                                                                  |                                                                                  |
| ``#sum first two column and create a third one, write to sum.csv``               |                                                                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **wget -c http://ftp.gnu.org/gnu/wget/wget-1.14.tar.xz** ``#download file``      | **free -m**  ``#show memory(RAM) usage``                                         |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **wget -nd -P images/ -r -A.png http://matplotlib.org/gallery.html**             | **file /bin/ls** ``#show file type``                                             |
|                                                                                  |                                                                                  |
| ``# Download png files to *images* directory recursively``                       |                                                                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **ifconfig -a** ``#will list all the network interfaces and their status``       | **w** ``#show logged in users and their activity``                               |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **export $PATH=PATH:/tmp/bin** ``#add custom executable path``                   | **jhead -purejpg Photo/*.jpg** ``#removes EXIF data from jpg files``             |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **export PS1="[\d \t \u@\h:\w ] $ "** ``#add custom bash prompt``                | **cat 1.txt| tr a-z A-Z** ``#convert to uppercase``                              |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **export http_proxy="http://user:passwd@host:port/"** ``#https_proxy,ftp_proxy`` | **nmcli dev wifi connect <name> password <password>** ``#connect to wifi``       |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **export no_proxy=10.0.0.0/8,localhost,*.iitb.ac.in,127.0.0.1** ``#ignore list`` | **sudo apt-cache search <package>** ``#search packages(debian,ubuntu,mint)``     |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **ssh -X root@localhost** ``#login to remote shell, '-X' enables X11``           | **sudo apt-get install <package>** ``#install package``                          |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **scp -r /etc/udev root@localhost:/tmp** ``#copy to remote machine recursively`` | **sudo apt-get remove <package>** ``#uninstall package``                         |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **df -h**  ``#will list all filesystem disk space usage``                        | **sudo dpkg -i <package.deb>** ``#install local deb file``                       |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **du -sh ~** ``#estimate file space usage``                                      | **dpkg -S /bin/ls** ``#search which package the command belongs to``             |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **wc -lwm /etc/passwd** ``#print number of lines, word, and char of file``       | **yum search <package>** ``#search packages(fedora,centOS,redhat)``              |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **diff -y 1.txt 2.txt** ``#show difference of two files``                        | **sudo yum install <package>** ``#install package / local rpm install``          |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **cmp 1.txt 2.txt** ``#compare two files byte by byte``                          | **sudo yum remove <package>** ``#uninstall package``                             |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **mkdir sed; cd sed;for i in {1..1000}; do shuf -n 10 /var/log/dmesg             | **yum provides /bin/ls** ``#search which package the command belongs to``        |
| -o $i.txt;done**                                                                 |                                                                                  |
|                                                                                  |                                                                                  |
| ``#create text files with shuffled data, to practice 'sed' command``             |                                                                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sed 's/\\[//g' 1.txt**  ``#replace '[' with empty string``                     | **pdftk A=in.pdf cat A8-12 output new.pdf** ``#extract page 8 to 12``            |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sed 's/\\[//g' -i.orig {1..1000}.txt**                                         | **pdftk 1.pdf 2.pdf cat output 1_plus_2.pdf** ``#add two pdf files``             |
|                                                                                  |                                                                                  |
| ``#replace '[' with empty string in place, repeat for 1000 files``               |                                                                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sed 's/\\ *[0-9]*\\.[0-9]*\\]//g' -i {1..1000}.txt**                           | **lsof | grep bash** ``#list all the files used by bash currenty``               |
|                                                                                  |                                                                                  |
| ``#eg:'    10.405270]' -->  \ *[0-9]*\.[0-9]*\]``                                |                                                                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sed '1i He was here & HERE on top of every page' -i {1..1000}.txt**            | **nohup <any-command> &** ``#continue running after logout``                     |
|                                                                                  |                                                                                  |
| ``Add text following '1i', '1' is the line number``                              |                                                                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sed 's/\\<here\\>/\*\*\*\*/gi' -i {1..1000}.txt**                              | **mencoder in.ogv -subpos 85 -sub 1.srt -o out.ogv -oac copy -ovc                |
|                                                                                  | lavc -lavcopts vbitrate=1200 -subfont-text-scale 3** ``#add subtitles``          |
| ``Replace 'here' & 'HERE' with '****', 'gi' is global & ignore case``            |                                                                                  |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sed -n '/was/,/ugly UGLY/p' 1.txt >pat.txt** ``#Print lines between pattern``  | **ffmpeg -f alsa -ac 1 -i pulse -acodec pcm_s16le -f x11grab -r 2 -s             |
|                                                                                  | 1366x768 -i :0.0 -vcodec libtheora  -b 800k 2.ogv** ``#record A/V``              |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+
| **sed = sed/10.txt | sed 'N;s/\n/ /'** ``#Add line number to file``              | **sox noisyAudio.wav noisefree.wav noisered myprofile 0.26** ``#remove noise``   |
+----------------------------------------------------------------------------------+----------------------------------------------------------------------------------+

Latest/Issues : http://git.io/kOVtRw
